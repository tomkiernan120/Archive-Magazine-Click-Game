$(document).ready(function(){function t(t){if("Notification"in window)if("granted"===Notification.permission)var e=new Notification(t,{icon:"http://thomass-macbook-pro.local:5757/webimg.png"});else"denied"!==Notification.permission&&Notification.requestPermission(function(e){if("granted"===e)var a=new Notification(t,{icon:"http://thomass-macbook-pro.local:5757/webimg.png"})});else alert("This browser does not support desktop notification")}for(var e=new Date,a=0;a<gameOptions.upgrades.length;a++){var s=gameOptions.upgrades[a];$(gameOptions.buttonList).append('<div class="button-container"><button class data-id="'+a+'" id="'+s.id+'" type="button"><h2>'+s.name+'</h2><p>Price: <span id="button-price">'+s.cost+'</span></p><p>Points per second: <span id="button-pps">'+s.pps+'</span></p><p>Purchased: <span id="button-purchased">'+s.purchased+"</span></p></button></div>")}$(gameOptions.pointAdder).on("click",function(t){t.preventDefault(),gameOptions.points++,$(gameOptions.pointHolder).html(gameOptions.points)}),$(".button-container button").on("click",function(t){t.preventDefault();var e=$(this).attr("data-id");gameOptions.points>=gameOptions.upgrades[e].cost&&(gameOptions.points=gameOptions.points-gameOptions.upgrades[e].cost,gameOptions.pointsPerSecond=gameOptions.pointsPerSecond+gameOptions.upgrades[e].pps,gameOptions.upgrades[e].purchased=gameOptions.upgrades[e].purchased+1,$(this).find("#button-purchased").html(gameOptions.upgrades[e].purchased),gameOptions.updatePurchased(),$("#purchasedTotal").html(gameOptions.purchasedTotal))}),$("#year").html(e.getFullYear()),$(".save-progress").on("click",function(e){if(e.preventDefault(),"undefined"!=typeof Storage){var a={clicks:gameOptions.points,pps:gameOptions.pointsPerSecond,purchasedTotal:gameOptions.purchasedTotal,upgrades:JSON.stringify(gameOptions.upgrades)},s=JSON.stringify(a);localStorage.setItem("savedData",s),t("saved data to local storage")}else alert("Sorry storage is not supported for your browser :(")}),$(".load-progress").on("click",function(e){e.preventDefault();var a=localStorage.getItem("savedData");if(a){var s=JSON.parse(a),o=JSON.parse(s.upgrades);gameOptions.setOptions("points",s.clicks),gameOptions.setOptions("pointsPerSecond",s.pps),gameOptions.setOptions("purchasedTotal",s.purchasedTotal),gameOptions.setOptions("upgrades",o),$(gameOptions.buttonList).empty();for(var n=0;n<gameOptions.upgrades.length;n++){var o=gameOptions.upgrades[n];$(gameOptions.buttonList).append('<div class="button-container"><button class data-id="'+n+'" id="'+o.id+'" type="button"><h2>'+o.name+'</h2><p>Price: <span id="button-price">'+o.cost+'</span></p><p>Points per second: <span id="button-pps">'+o.pps+'</span></p><p>Purchased: <span id="button-purchased">'+o.purchased+"</span></p></button></div>")}gameOptions.updatePurchased(),gameOptions.update(),t("loaded saved game")}else alert("No saved data")})});